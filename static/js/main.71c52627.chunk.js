(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(31)},26:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(18),r=a.n(c),s=a(2),l=a(3),i=a(7),h=a(4),u=a(6),m=(a(26),a(5)),b=a(8),p=a(20),f=a(15),d=a(11),O={albums:[],photos:[]},j=Object(b.c)({gallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALBUMS":return Object(d.a)({},e,{albums:t.albums});case"FETCH_PHOTOS":return Object(d.a)({},e,{photos:t.photos});case"ADD_HASHTAG":return Object(d.a)({},e,{photos:Object(f.a)(e.photos.map(function(a,n){return a.id===t.photoId?Object(d.a)({},a,{hashtagArr:[].concat(Object(f.a)(e.photos[n].hashtagArr),[t.hashtag])}):a}))});default:return e}}}),v=[p.a],_=Object(b.e)(j,{},Object(b.d)(b.a.apply(void 0,v),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),E=function(e){return function(t){fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(e)).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){return e.hashtagArr=[]}),t({type:"FETCH_PHOTOS",photos:e})})}},g=function(e){return o.a.createElement("div",{className:"hashtag"},e.hashtags.map(function(e,t){return o.a.createElement("a",{className:"hashtag__link",href:"#",key:t},"#",e)}))},y=a(1),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).onSubmit=a.onSubmit.bind(Object(y.a)(Object(y.a)(a))),a.onChange=a.onChange.bind(Object(y.a)(Object(y.a)(a))),a.state={search:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({search:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={hashtag:this.state.search,photoId:this.props.id};this.props.addHashtag(t)}},{key:"render",value:function(){return o.a.createElement("div",{className:"hashtags-form"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{className:"hashtags-form__input",onChange:this.onChange,name:"search",placeholder:"Search photos"}),o.a.createElement("button",{className:"hashtags-form__btn",type:"submit"},"Submit")))}}]),t}(n.Component),S=Object(m.b)(null,{addHashtag:function(e){return function(t){t({type:"ADD_HASHTAG",hashtag:e.hashtag,photoId:e.photoId})}}})(k),N=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPhotos(1)}},{key:"render",value:function(){return o.a.createElement("div",{className:"photos-block"},this.props.photos.map(function(e){var t=e.id,a=e.url,n=e.title,c=e.hashtagArr;return o.a.createElement("div",{className:"photos-block__photo-container",key:t},o.a.createElement("img",{className:"photos-block__photo",src:a,alt:n}),o.a.createElement(g,{setKey:t,hashtags:c}),o.a.createElement(S,{id:t}))}))}}]),t}(n.Component),C=Object(m.b)(function(e){return{photos:e.gallery.photos}},{fetchPhotos:E})(N),w=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("ul",{className:"nav-list"},o.a.createElement("li",{className:"nav-list__elem"},"Albums list",o.a.createElement("ul",{className:"nav-list__embed-albums-list"},this.props.albums.map(function(t){var a=t.id,n=t.title;return o.a.createElement("li",{className:"nav-list__embed-albums-list-elem",key:a,onClick:e.props.fetchPhotos.bind(null,a)},o.a.createElement("button",{className:"nav-list__embed-albums-list-link",href:"#"},n))}))))}}]),t}(n.Component),A=Object(m.b)(function(e){return{albums:e.gallery.albums,photos:e.gallery.photos}},{fetchPhotos:E})(w),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).onSubmit=a.onSubmit.bind(Object(y.a)(Object(y.a)(a))),a.onChange=a.onChange.bind(Object(y.a)(Object(y.a)(a))),a.state={filter:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({filter:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=document.querySelector(".photos-block").childNodes,a=this.state.filter,n=new RegExp("(".concat(a,")"),"i");this.props.photos.forEach(function(e,o){var c=e.title,r=e.hashtagArr.some(function(e){return-1!==e.search(a)});-1!==c.search(n)||r?t[o].classList.remove("photos-block__photo-container--hidden"):t[o].classList.add("photos-block__photo-container--hidden")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"search-form__search"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{onChange:this.onChange,value:this.state.filter,className:"search-form__search-input",type:"search",name:"search",placeholder:"Search photos"}),o.a.createElement("input",{className:"search-form__search-btn",type:"submit",value:"Search"})))}}]),t}(n.Component),H=Object(m.b)(function(e){return{photos:e.gallery.photos}})(D),T=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAlbums()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"header__container"},o.a.createElement("nav",null,o.a.createElement(A,null)),o.a.createElement(H,null))),o.a.createElement(C,null))}}]),t}(n.Component),I=Object(m.b)(function(e){return{albums:e.gallery.albums,photos:e.gallery.photos}},{fetchAlbums:function(){return function(e){fetch("https://jsonplaceholder.typicode.com/albums?userId=1").then(function(e){return e.json()}).then(function(t){e({type:"FETCH_ALBUMS",albums:t})})}},fetchPhotos:E})(T),P=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,{store:_},o.a.createElement(I,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.71c52627.chunk.js.map